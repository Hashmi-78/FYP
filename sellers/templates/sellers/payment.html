{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Payment Settings</title>
  <script defer src="{% static 'js/seller_payment.js' %}"></script>
  <link href="{% static 'css/output.css' %}" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <style>
    .status-connected {
      background-color: #dcfce7;
      color: #15803d;
      border-color: #86efac;
    }

    .status-pending {
      background-color: #fef3c7;
      color: #a16207;
      border-color: #fde047;
    }

    .input-focus:focus {
      outline: none;
      box-shadow: 0 0 0 4px #bfdbfe;
      border-color: #1e3a8a;
    }
  </style>
</head>

<body class="bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen">

  <div class="container mx-auto px-4 py-8 max-w-4xl">

    <!-- Header -->
    <div class="bg-white rounded-2xl shadow-lg p-6 mb-8 text-center md:text-left">
      <h1 class="text-3xl font-extrabold text-blue-900 flex items-center gap-3 justify-center md:justify-start">
        <i class="fas fa-wallet"></i> Payment Settings
      </h1>
      <p class="text-gray-600 mt-2">Add your payout method to receive earnings</p>
    </div>

    <!-- Current Status -->
    <div class="bg-white rounded-2xl shadow-lg p-6 mb-8 flex items-center justify-between flex-wrap gap-4">
      <div>
        <p class="text-sm text-gray-600">Payout Method Status</p>
        <div id="statusBadge"
          class="inline-flex items-center gap-2 text-lg font-bold px-5 py-2 rounded-full border-2 status-pending">
          <i class="fas fa-hourglass-half"></i> Not Connected
        </div>
      </div>
      <div class="text-right">
        <p class="text-sm text-gray-600">Last Updated</p>
        <p id="lastSaved" class="font-bold text-blue-900">Never</p>
      </div>
    </div>

    <!-- Payment Form -->
    <div class="bg-white rounded-2xl shadow-lg p-8">
      <h2 class="text-xl font-bold text-blue-900 mb-6">Choose Your Payout Method</h2>

      <form id="paymentForm" method="post" class="space-y-8">
        {% csrf_token %}

        <!-- Bank Transfer -->
        <div class="border-2 border-gray-200 rounded-xl p-6 hover:border-blue-400 transition">
          <label class="flex items-center gap-4 cursor-pointer">
            <input type="radio" name="method" value="bank" class="w-6 h-6 text-blue-900" required>
            <div class="flex-1">
              <h3 class="font-bold text-lg text-gray-800">Bank Transfer</h3>
              <p class="text-sm text-gray-600">Direct transfer to your local bank account</p>
            </div>
            <i class="fas fa-university text-4xl text-blue-900 opacity-30"></i>
          </label>

          <div class="mt-5 space-y-4 bank-fields hidden">
            <input type="text" placeholder="Account Holder Name"
              class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl input-focus" id="bankName">
            <input type="text" placeholder="Bank Name (e.g. HBL, Meezan)"
              class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl input-focus" id="bankTitle">
            <input type="text" placeholder="IBAN (PK00XXXX...)"
              class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl input-focus" id="iban">
            <input type="text" placeholder="Account Number"
              class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl input-focus" id="accountNo">
          </div>
        </div>

        <!-- JazzCash -->
        <div class="border-2 border-gray-200 rounded-xl p-6 hover:border-green-400 transition">
          <label class="flex items-center gap-4 cursor-pointer">
            <input type="radio" name="method" value="jazzcash" class="w-6 h-6 text-green-600">
            <div class="flex-1">
              <h3 class="font-bold text-lg text-gray-800">JazzCash</h3>
              <p class="text-sm text-gray-600">Receive via mobile account</p>
            </div>
            <img src="{% static 'images/jazz cash.png' %}" class="h-10">
          </label>
          <div class="mt-5 jazz-fields hidden">
            <input type="text" placeholder="JazzCash Mobile Number (03XXXXXXXXX)"
              class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl input-focus" id="jazzNumber">
          </div>
        </div>

        <!-- EasyPaisa -->
        <div class="border-2 border-gray-200 rounded-xl p-6 hover:border-green-500 transition">
          <label class="flex items-center gap-4 cursor-pointer">
            <input type="radio" name="method" value="easypaisa" class="w-6 h-6 text-green-500">
            <div class="flex-1">
              <h3 class="font-bold text-lg text-gray-800">EasyPaisa</h3>
              <p class="text-sm text-gray-600">Fast & secure mobile wallet</p>
            </div>
            <i class="fas fa-mobile-alt text-4xl text-green-600"></i>
          </label>
          <div class="mt-5 easy-fields hidden">
            <input type="text" placeholder="EasyPaisa Mobile Number (03XXXXXXXXX)"
              class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl input-focus" id="easyNumber">
          </div>
        </div>

        <!-- SadaPay -->
        <div class="border-2 border-gray-200 rounded-xl p-6 hover:border-purple-400 transition">
          <label class="flex items-center gap-4 cursor-pointer">
            <input type="radio" name="method" value="sadapay" class="w-6 h-6 text-purple-600">
            <div class="flex-1">
              <h3 class="font-bold text-lg text-gray-800">SadaPay</h3>
              <p class="text-sm text-gray-600">Modern digital banking</p>
            </div>
            <img src="{% static 'images/sadapay.png' %}" class="h-10 rounded">
          </label>
          <div class="mt-5 sada-fields hidden">
            <input type="text" placeholder="SadaPay Number / IBAN"
              class="w-full px-5 py-4 border-2 border-gray-300 rounded-xl input-focus" id="sadaNumber">
          </div>
        </div>

        <!-- Save Button -->
        <div class="text-center pt-6">
          <button type="submit"
            class="bg-gradient-to-r from-blue-900 to-indigo-800 text-white px-12 py-5 rounded-full font-bold text-xl shadow-2xl hover:shadow-3xl transform hover:scale-105 transition">
            Save Payment Method
          </button>
        </div>
      </form>
    </div>

    <!-- Success Message -->
    <div id="successAlert" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
      <div class="bg-white rounded-2xl p-10 text-center shadow-2xl transform scale-95 animate-bounce">
        <i class="fas fa-check-circle text-8xl text-green-500 mb-4"></i>
        <h3 class="text-3xl font-bold text-green-600">Connected Successfully!</h3>
        <p class="text-gray-600 mt-3">Your payout method is now active</p>
        <button onclick="document.getElementById('successAlert').classList.add('hidden')"
          class="mt-6 bg-blue-900 text-white px-8 py-3 rounded-full font-bold">
          Close
        </button>
      </div>
    </div>
  </div>

</body>

</html>